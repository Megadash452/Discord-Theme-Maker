$nav-padding: 0.5rem
$nav-btn-size: 2.125rem
$nav-title-max-width: 19rem

$tooltip-bg-color: #18191c
$tooltip-color: #dcddde
$distance: 0.125rem
$arrow-size: 0.625rem

=abs-pos($top, $left, $bottom:auto, $right:auto)
    position: absolute
    top: $top
    bottom: $bottom
    left: $left
    right: $right


@font-face
    font-family: "Uni Sans"
    src: url("../../res/fonts/Uni Sans Regular.ttf") format("truetype")
    
body
    margin: 0
    overflow: hidden

.hidden
    display: none


body.home #back-btn
    display: none


body.light
    // color: darkgrey

    nav button::after, nav a::after
        background-color: #202225
        color: white

body.dark
    color: #eee
    background: #292b30

    nav button::after, nav a::after
        background-color: grey
        color: black




nav#navbar
    padding: $nav-padding
    background: #5769e9
    color: #000
    stroke: #000
    // TODO: fix so its not bold
    display: flex
    flex-direction: row
    justify-content: space-between

    #back-btn
        margin: 0 $nav-padding 0 0

        > img, > svg
            // margin-top: 3px
            width: 1.75rem
            height: 1.75rem

    div.title
        display: block
        overflow-x: hidden
        height: 100%
        max-width: $nav-title-max-width

        display: flex
        flex-direction: column
        justify-content: center

        > h1
            // display: inline-block
            // vertical-align: middle
            // line-height: normal

            white-space: nowrap
            font-family: "Uni Sans", sans-serif
            font-size: 1.5rem
            margin: 0
            cursor: default

    .header
        height: 2.125rem
        display: flex
        flex-direction: row
        justify-content: flex-start

    .info
        height: 100%
        cursor: default
        display: flex
        flex-direction: row
        justify-content: flex-end
    
    button, a
        display: flex
        flex-direction: column
        justify-content: center

        width: $nav-btn-size
        height: $nav-btn-size
        text-decoration: none
        text-decoration-color: #00000000
        color: inherit

        background: transparent
        border: none
        border-radius: 0.25rem
        padding: 0
        margin: 0 0 0 0.5rem
        cursor: pointer

        transition: background-color, color, stroke 0.25s, 0.25s, 0.25s

        > img, > svg
            display: block
            margin-left: auto
            margin-right: auto
            stroke: transparent
            color: inherit

        &:hover
            background-color: #4858d3

        &:active, &.active
            background-color: #3553a5a9
            color: #fff
    


button[data-tooltip], a[data-tooltip]
    position: relative

    &::before, &::after
        pointer-events: none
        position: absolute
        z-index: 4

        --scale: 0
        transform: translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) scale(var(--scale))
        transition: transform 0.05s

    &::before
        content: attr(data-tooltip)
        text-align: center
        font-family: Roboto, sans-serif
        font-size: 1rem

        margin: 0
        padding: 0.5rem 0.75rem
        border-radius: 5px
        box-shadow: 0 8px 16px #0000003d
        background: $tooltip-bg-color
        color: $tooltip-color

    &::after
        content: ''
        background: transparent
        border: calc(#{$arrow-size} / 2) solid transparent

    &:hover::before, &:hover::after
        --scale: 1

    
button[tooltip-direction="left"], a[tooltip-direction="left"]
    &::before, &::after
        top: 50%
        right: 100%
    &::before
        --translate-x: calc( -#{$distance} - #{$arrow-size} / 2)
        --translate-y: -50%
        transform-origin: right center
    &::after
        --translate-x: calc( -#{$distance} + #{$arrow-size} / 2)
        --translate-y: -50%
        transform-origin: left center
        border-left-color: $tooltip-bg-color
    
button[tooltip-direction="right"], a[tooltip-direction="right"]
    &::before, &::after
        top: 50%
        left: 100%
    &::before
        --translate-x: calc(#{$distance} + #{$arrow-size} / 2)
        --translate-y: -50%
        transform-origin: left center
    &::after
        --translate-x: calc(#{$distance} - #{$arrow-size} / 2)
        --translate-y: -50%
        transform-origin: right center
        border-right-color: $tooltip-bg-color

button[tooltip-direction="top"], a[tooltip-direction="top"]
    &::before, &::after
        bottom: 100%
        left: 50%
    &::before
        --translate-x: -50%
        --translate-y: calc( -#{$distance} - #{$arrow-size} / 2)
        transform-origin: bottom center
    &::after
        --translate-x: -50%
        --translate-y: calc( -#{$distance} + #{$arrow-size} / 2)
        transform-origin: top center
        border-top-color: $tooltip-bg-color

button[tooltip-direction="bottom"], a[tooltip-direction="bottom"],
button:not([tooltip-direction]), a:not([tooltip-direction])
    &::before, &::after
        top: 100%
        left: 50%
    &::before
        --translate-x: -50%
        --translate-y: calc(#{$distance} + #{$arrow-size} / 2)
        transform-origin: top center
    &::after
        --translate-x: -50%
        --translate-y: calc(#{$distance} - #{$arrow-size} / 2)
        transform-origin: bottom center
        border-bottom-color: $tooltip-bg-color



#menu-side-bar
    $sidebar-width: 25rem
    $side-padding: 0.625rem

    +abs-pos($nav-padding * 2 + $nav-btn-size, auto, auto, 0)
    transition: right 0.5s, box-shadow 0.7s
    padding: 0.5rem 0.625rem

    background-color: #3e4148
    border: 2px solid #686a6c
    border-right: none
    box-shadow: #00000060 0px 30px 60px 40px

    width: $sidebar-width
    height: calc(100vh - #{$nav-padding} * 2 - #{$nav-btn-size} - 0.5rem * 2 - 4px)
    z-index: 3

    hr
        border: 1px solid #686a6c
        background: #686a6c

    &:not(.active)
        right: calc(#{-$sidebar-width - $side-padding * 2} - 2px)
        box-shadow: #00000000 0px 30px

#page-filter
    content: ''
    background-color: transparent
    backdrop-filter: blur(0px)
    transition: background-color 0.5s, backdrop-filter 0.5s

    position: absolute
    top: $nav-padding * 2 + $nav-btn-size
    bottom: -2px
    left: calc(-100vw - 2px)
    right: 0
    z-index: -1
    

    &.active
        background-color: #0000006b
        backdrop-filter: blur(2px);
        z-index: 2


input.switch, input.toggle, input.toggler
    &[type="checkbox"]
        appearance: none
        position: relative
        width: 2.5rem
        height: 1.5rem

        background: #72767d
        transition: background 0.25s
        border-radius: 100px
        margin: 0

        &[checked]
            background: #3ba55d

            &::after
                left: calc(1rem + 3px)
                // right: 3px

        &::after
            content: ''
            display: block
            aspect-ratio: 1
            position: absolute
            top: 3px
            bottom: 3px
            left: 3px
            // right: auto
            transition: left 0.25s

            background: white
            border-radius: inherit


#main-content
    overflow-y: auto 
    max-height: calc(100vh - #{$nav-btn-size} - #{$nav-padding} * 2)